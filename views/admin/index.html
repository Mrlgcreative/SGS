Pour afficher le profil de l'utilisateur connecteÌ, vous pouvez suivre les eÌtapes suivantes. Cela implique de reÌcupeÌrer les informations de l'utilisateur depuis la base de donneÌes et de les afficher sur la page de profil.

Exemple de gestion de session utilisateur en PHP

Connexion et stockage des informations de l'utilisateur

Lorsque l'utilisateur se connecte, stockez ses informations dans la session.

*Exemple de fichier Auth.php*

php
<?php
session_start();
require 'models/UserModel.php';

class Auth {
    private $userModel;

    public function __construct() {
        $this->userModel = new UserModel();
    }

    public function login() {
        if ($_SERVER['REQUEST_METHOD'] == 'POST') {
            $username = $_POST['username'];
            $password = $_POST['password'];

            $user = $this->userModel->getByUsername($username);

            if ($user && password_verify($password, $user['password'])) {
                $_SESSION['user_id'] = $user['id'];
                $_SESSION['username'] = $user['username'];
                $_SESSION['role'] = $user['role'];
                $_SESSION['email'] = $user['email'];
                header('Location: ' . BASE_URL . 'index.php?controller=Admin&action=dashboard');
            } else {
                $error = "Nom d'utilisateur ou mot de passe incorrect";
                require 'views/auth/login.php';
            }
        } else {
            require 'views/auth/login.php';
        }
    }

    public function logout() {
        session_destroy();
        header('Location: ' . BASE_URL . 'index.php?controller=Auth&action=login');
    }
}
?>


*Exemple de page de profil profil.php*

Cette page affiche les informations de l'utilisateur connecteÌ.

php
<?php
session_start();
if (!isset($_SESSION['user_id'])) {
    header('Location: ' . BASE_URL . 'index.php?controller=Auth&action=login');
    exit();
}

$username = $_SESSION['username'];
$email = $_SESSION['email'];
$role = $_SESSION['role'];
?>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Profil de l'utilisateur</title>
</head>
<body>
    <h1>Profil de <?php echo $username; ?></h1>
    <p>Email : <?php echo $email; ?></p>
    <p>RoÌ‚le : <?php echo $role; ?></p>

    <a href="index.php?controller=Auth&action=logout">DeÌconnexion</a>
</body>
</html>


Explications des eÌtapes :

1. Connexion utilisateur : Lorsque l'utilisateur se connecte, ses informations sont reÌcupeÌreÌes depuis la base de donneÌes et stockeÌes dans la session PHP.
2. Affichage du profil : Sur la page de profil, les informations de l'utilisateur connecteÌ sont reÌcupeÌreÌes depuis la session et afficheÌes.
3. Gestion de la session : Si l'utilisateur n'est pas connecteÌ, il est redirigeÌ vers la page de connexion.

Avec cette mise en Å“uvre, vous pouvez afficher les informations du profil de l'utilisateur connecteÌ sur la page de profil. Si vous avez besoin de plus d'aide ou de modifications suppleÌmentaires, faites-le moi savoir ! ğŸ˜Š
â½Â¹â¾â½Â²â¾

Sources:
[1]  (https://github.com/Developers-Society-Jadavpur-University/venue-booking/tree/c039c5d72427a6b5745fd3aac1954296f9c73b56/controllers%2Fauth.php)
[2]  (https://github.com/RaineCagape/USeP_Online_Guidance_Counseling/tree/152b90c001dc7e27378cbb1458d06b2628b2758e/Profile.php)